stages:
  generate_data:
    cmd: python3 dvc_sample_project/data/generate_data.py
    deps:
    - dvc_sample_project/data/generate_data.py
    params:
    - data.n_objects
    outs:
    - data/raw/data.csv
  split_data:
    cmd: python3 dvc_sample_project/features/split_data.py
    deps:
    - data/raw/data.csv
    - dvc_sample_project/features/split_data.py
    params:
    - split.random_state
    - split.test_size
    outs:
    - data/processed/test.csv
    - data/processed/train.csv
  train_catboost:
    cmd: python3 dvc_sample_project/trainers/train_catboost.py
    deps:
    - data/processed/test.csv
    - data/processed/train.csv
    - dvc_sample_project/trainers/train_catboost.py
    params:
    - catboost
    outs:
    - artifacts/catboost.pkl:
        checkpoint: true
    live:
      logs:
        summary: true
        html: false
  Featurize_TFIDF:
    cmd: python3 dvc_sample_project/features/to_tfidf.py data/raw/subtask-1 data/processed/tfidf_features
    deps:
    - data/raw/subtask-1
    - dvc_sample_project/features/to_tfidf.py
    params:
    - Featurize_tfidf.max_features
    - Featurize_tfidf.ngrams
    outs:
    - data/processed/tfidf_features
  Train_RF:
    cmd: python3 dvc_sample_project/trainers/train_rf.py data/processed/tfidf_features
      artifacts
    deps:
    - data/processed/tfidf_features/train.pkl
    - dvc_sample_project/trainers/train_rf.py
    params:
    - Train_RF.min_split
    - Train_RF.n_est
    - Train_RF.seed
    outs:
    - artifacts/RF_model.pkl
  Eval_RF:
    cmd: python3 dvc_sample_project/evals/evaluate.py artifacts/RF_model.pkl
      data/processed/tfidf_features artifacts/RF_scores.json
    deps:
    - data/processed/tfidf_features/test.pkl
    - dvc_sample_project/evals/evaluate.py
    - artifacts/RF_model.pkl
    outs:
    - artifacts/RF_scores.json
